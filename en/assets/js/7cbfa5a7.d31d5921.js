"use strict";(self.webpackChunkratziel_wiki=self.webpackChunkratziel_wiki||[]).push([[479],{2423:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"writing/api","title":"API \u6587\u6863","description":"Ratziel \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 API \u63a5\u53e3\uff0c\u4f9b\u5f00\u53d1\u8005\u5728\u811a\u672c\u4e2d\u4f7f\u7528\u3002\u672c\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u6240\u6709\u53ef\u7528\u7684 API \u548c\u4f7f\u7528\u65b9\u6cd5\u3002","source":"@site/docs/writing/api.md","sourceDirName":"writing","slug":"/writing/api","permalink":"/Ratziel-Docs/en/docs/writing/api","draft":false,"unlisted":false,"editUrl":"https://github.com/TheFloodDragon/Ratziel-Docs/tree/master/docs/writing/api.md","tags":[],"version":"current","lastUpdatedAt":1754101587000,"sidebarPosition":7,"frontMatter":{"title":"API \u6587\u6863","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u63d2\u4ef6\u517c\u5bb9","permalink":"/Ratziel-Docs/en/docs/writing/compat"},"next":{"title":"\u4f7f\u7528\u6848\u4f8b","permalink":"/Ratziel-Docs/en/docs/writing/examples"}}');var l=a(4848),i=a(8453);const r={title:"API \u6587\u6863",sidebar_position:7},s="API \u6587\u6863",d={},c=[{value:"\u6838\u5fc3 API",id:"\u6838\u5fc3-api",level:2},{value:"RatzielItem API",id:"ratzielitem-api",level:3},{value:"\u57fa\u7840\u65b9\u6cd5",id:"\u57fa\u7840\u65b9\u6cd5",level:4},{value:"\u6570\u636e\u7c7b\u578b\u64cd\u4f5c",id:"\u6570\u636e\u7c7b\u578b\u64cd\u4f5c",level:4},{value:"\u7ec4\u4ef6\u64cd\u4f5c",id:"\u7ec4\u4ef6\u64cd\u4f5c",level:4},{value:"Player API",id:"player-api",level:3},{value:"\u57fa\u7840\u64cd\u4f5c",id:"\u57fa\u7840\u64cd\u4f5c",level:4},{value:"\u6d88\u606f\u53d1\u9001",id:"\u6d88\u606f\u53d1\u9001",level:4},{value:"\u7269\u54c1\u64cd\u4f5c",id:"\u7269\u54c1\u64cd\u4f5c",level:4},{value:"\u4f4d\u7f6e\u548c\u79fb\u52a8",id:"\u4f4d\u7f6e\u548c\u79fb\u52a8",level:4},{value:"Event API",id:"event-api",level:3},{value:"\u4e8b\u4ef6\u63a7\u5236",id:"\u4e8b\u4ef6\u63a7\u5236",level:4},{value:"\u7279\u5b9a\u4e8b\u4ef6\u64cd\u4f5c",id:"\u7279\u5b9a\u4e8b\u4ef6\u64cd\u4f5c",level:4},{value:"\u5de5\u5177 API",id:"\u5de5\u5177-api",level:2},{value:"\u65f6\u95f4\u5de5\u5177",id:"\u65f6\u95f4\u5de5\u5177",level:3},{value:"\u968f\u673a\u5de5\u5177",id:"\u968f\u673a\u5de5\u5177",level:3},{value:"\u5b57\u7b26\u4e32\u5de5\u5177",id:"\u5b57\u7b26\u4e32\u5de5\u5177",level:3},{value:"\u6570\u5b66\u5de5\u5177",id:"\u6570\u5b66\u5de5\u5177",level:3},{value:"\u670d\u52a1 API",id:"\u670d\u52a1-api",level:2},{value:"\u51b7\u5374\u670d\u52a1",id:"\u51b7\u5374\u670d\u52a1",level:3},{value:"\u6570\u636e\u670d\u52a1",id:"\u6570\u636e\u670d\u52a1",level:3},{value:"\u7b2c\u4e09\u65b9 API",id:"\u7b2c\u4e09\u65b9-api",level:2},{value:"PlaceholderAPI",id:"placeholderapi",level:3},{value:"Vault \u7ecf\u6d4e",id:"vault-\u7ecf\u6d4e",level:3},{value:"WorldGuard",id:"worldguard",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"api-\u6587\u6863",children:"API \u6587\u6863"})}),"\n",(0,l.jsx)(n.p,{children:"Ratziel \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 API \u63a5\u53e3\uff0c\u4f9b\u5f00\u53d1\u8005\u5728\u811a\u672c\u4e2d\u4f7f\u7528\u3002\u672c\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u6240\u6709\u53ef\u7528\u7684 API \u548c\u4f7f\u7528\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u6838\u5fc3-api",children:"\u6838\u5fc3 API"}),"\n",(0,l.jsx)(n.h3,{id:"ratzielitem-api",children:"RatzielItem API"}),"\n",(0,l.jsx)(n.p,{children:"RatzielItem \u662f Ratziel \u7269\u54c1\u7684\u6838\u5fc3\u7c7b\uff0c\u63d0\u4f9b\u4e86\u7269\u54c1\u6570\u636e\u64cd\u4f5c\u7684\u6240\u6709\u529f\u80fd\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u57fa\u7840\u65b9\u6cd5",children:"\u57fa\u7840\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u83b7\u53d6\u7269\u54c1\u6570\u636e\nvalue = item.get("key")                    // \u83b7\u53d6\u6570\u636e\nitem.set("key", value)                     // \u8bbe\u7f6e\u6570\u636e\nitem.remove("key")                         // \u5220\u9664\u6570\u636e\nitem.has("key")                           // \u68c0\u67e5\u6570\u636e\u662f\u5426\u5b58\u5728\n\n// \u7269\u54c1\u4fe1\u606f\nidentifier = item.getIdentifier()          // \u83b7\u53d6\u7269\u54c1\u6807\u8bc6\u7b26\ndisplayName = item.getDisplayName()        // \u83b7\u53d6\u663e\u793a\u540d\u79f0\nmaterial = item.getMaterial()              // \u83b7\u53d6\u6750\u8d28\namount = item.getAmount()                  // \u83b7\u53d6\u6570\u91cf\n\n// NBT \u64cd\u4f5c\nnbt = item.getNBT()                       // \u83b7\u53d6 NBT \u6570\u636e\nitem.setNBT(nbt)                          // \u8bbe\u7f6e NBT \u6570\u636e\nitem.updateNBT()                          // \u66f4\u65b0 NBT \u5230 ItemStack\n'})}),"\n",(0,l.jsx)(n.h4,{id:"\u6570\u636e\u7c7b\u578b\u64cd\u4f5c",children:"\u6570\u636e\u7c7b\u578b\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u57fa\u7840\u6570\u636e\u7c7b\u578b\nitem.set("string_data", "Hello World")     // \u5b57\u7b26\u4e32\nitem.set("number_data", 42)                // \u6570\u5b57\nitem.set("boolean_data", true)             // \u5e03\u5c14\u503c\n\n// \u590d\u6742\u6570\u636e\u7c7b\u578b\nitem.set("array_data", [1, 2, 3])         // \u6570\u7ec4\nitem.set("object_data", {                  // \u5bf9\u8c61\n  name: "test",\n  value: 123\n})\n\n// NBT \u6570\u636e\u7c7b\u578b\nitem.set("nbt_int", new NbtInt(42))        // NBT \u6574\u6570\nitem.set("nbt_string", new NbtString("test")) // NBT \u5b57\u7b26\u4e32\nitem.set("nbt_compound", new NbtCompound()) // NBT \u590d\u5408\u6807\u7b7e\n'})}),"\n",(0,l.jsx)(n.h4,{id:"\u7ec4\u4ef6\u64cd\u4f5c",children:"\u7ec4\u4ef6\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u83b7\u53d6\u7ec4\u4ef6\ndisplay = item.getComponent(ItemDisplay.class)\ndurability = item.getComponent(ItemDurability.class)\nenchant = item.getComponent(ItemEnchant.class)\n\n// \u8bbe\u7f6e\u7ec4\u4ef6\nnewDisplay = new ItemDisplay()\nnewDisplay.name = "<red>\u65b0\u540d\u79f0"\nitem.setComponent(newDisplay)\n\n// \u4fee\u6539\u7ec4\u4ef6\ndisplay.name = "<blue>\u4fee\u6539\u540e\u7684\u540d\u79f0"\ndisplay.lore = ["\u65b0\u7684\u63cf\u8ff01", "\u65b0\u7684\u63cf\u8ff02"]\nitem.setComponent(display)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"player-api",children:"Player API"}),"\n",(0,l.jsx)(n.p,{children:"Player API \u63d0\u4f9b\u4e86\u73a9\u5bb6\u76f8\u5173\u7684\u64cd\u4f5c\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u57fa\u7840\u64cd\u4f5c",children:"\u57fa\u7840\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u73a9\u5bb6\u4fe1\u606f\nname = player.getName()                    // \u83b7\u53d6\u73a9\u5bb6\u540d\u79f0\nuuid = player.getUniqueId()               // \u83b7\u53d6 UUID\nhealth = player.getHealth()               // \u83b7\u53d6\u751f\u547d\u503c\nmaxHealth = player.getMaxHealth()         // \u83b7\u53d6\u6700\u5927\u751f\u547d\u503c\nlevel = player.getLevel()                 // \u83b7\u53d6\u7b49\u7ea7\nexp = player.getExp()                     // \u83b7\u53d6\u7ecf\u9a8c\u503c\n\n// \u8bbe\u7f6e\u5c5e\u6027\nplayer.setHealth(20)                      // \u8bbe\u7f6e\u751f\u547d\u503c\nplayer.setLevel(10)                       // \u8bbe\u7f6e\u7b49\u7ea7\nplayer.giveExp(100)                       // \u7ed9\u4e88\u7ecf\u9a8c\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u6d88\u606f\u53d1\u9001",children:"\u6d88\u606f\u53d1\u9001"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u57fa\u7840\u6d88\u606f\nplayer.sendMessage("Hello World!")        // \u53d1\u9001\u804a\u5929\u6d88\u606f\nplayer.sendRichMessage("<red>\u5f69\u8272\u6d88\u606f")   // \u53d1\u9001\u5bcc\u6587\u672c\u6d88\u606f\n\n// \u7279\u6b8a\u6d88\u606f\nplayer.sendActionBar("\u52a8\u4f5c\u680f\u6d88\u606f")         // \u53d1\u9001\u52a8\u4f5c\u680f\u6d88\u606f\nplayer.sendTitle("\u6807\u9898", "\u526f\u6807\u9898", 10, 70, 20) // \u53d1\u9001\u6807\u9898\n\n// \u58f0\u97f3\u6548\u679c\nplayer.playSound(player.getLocation(), Sound.ENTITY_PLAYER_LEVELUP, 1, 1)\n'})}),"\n",(0,l.jsx)(n.h4,{id:"\u7269\u54c1\u64cd\u4f5c",children:"\u7269\u54c1\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u80cc\u5305\u64cd\u4f5c\ninventory = player.getInventory()\nmainHand = inventory.getItemInMainHand()   // \u83b7\u53d6\u4e3b\u624b\u7269\u54c1\noffHand = inventory.getItemInOffHand()     // \u83b7\u53d6\u526f\u624b\u7269\u54c1\n\n// \u7ed9\u4e88\u7269\u54c1\ninventory.addItem(itemStack)               // \u6dfb\u52a0\u7269\u54c1\u5230\u80cc\u5305\nplayer.getWorld().dropItem(player.getLocation(), itemStack) // \u6389\u843d\u7269\u54c1\n\n// \u88c5\u5907\u64cd\u4f5c\nhelmet = inventory.getHelmet()             // \u83b7\u53d6\u5934\u76d4\ninventory.setHelmet(itemStack)             // \u8bbe\u7f6e\u5934\u76d4\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u4f4d\u7f6e\u548c\u79fb\u52a8",children:"\u4f4d\u7f6e\u548c\u79fb\u52a8"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u4f4d\u7f6e\u4fe1\u606f\nlocation = player.getLocation()\nworld = location.getWorld()\nx = location.getX()\ny = location.getY()\nz = location.getZ()\n\n// \u4f20\u9001\nnewLocation = new Location(world, 100, 64, 200)\nplayer.teleport(newLocation)\n\n// \u901f\u5ea6\nvelocity = player.getVelocity()\nplayer.setVelocity(velocity.multiply(2))   // \u53cc\u500d\u901f\u5ea6\n"})}),"\n",(0,l.jsx)(n.h3,{id:"event-api",children:"Event API"}),"\n",(0,l.jsx)(n.p,{children:"Event API \u63d0\u4f9b\u4e86\u4e8b\u4ef6\u5904\u7406\u7684\u76f8\u5173\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u4e8b\u4ef6\u63a7\u5236",children:"\u4e8b\u4ef6\u63a7\u5236"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u53d6\u6d88\u4e8b\u4ef6\nevent.setCancelled(true)                   // \u53d6\u6d88\u4e8b\u4ef6\ncancelled = event.isCancelled()            // \u68c0\u67e5\u662f\u5426\u5df2\u53d6\u6d88\n\n// \u4e8b\u4ef6\u4fe1\u606f\neventName = event.getEventName()           // \u83b7\u53d6\u4e8b\u4ef6\u540d\u79f0\nhandlers = event.getHandlers()             // \u83b7\u53d6\u5904\u7406\u5668\u5217\u8868\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u7279\u5b9a\u4e8b\u4ef6\u64cd\u4f5c",children:"\u7279\u5b9a\u4e8b\u4ef6\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u653b\u51fb\u4e8b\u4ef6\nif (event instanceof EntityDamageByEntityEvent) {\n  damage = event.getDamage()               // \u83b7\u53d6\u4f24\u5bb3\u503c\n  event.setDamage(damage * 1.5)          // \u8bbe\u7f6e\u4f24\u5bb3\u503c\n  \n  attacker = event.getDamager()           // \u83b7\u53d6\u653b\u51fb\u8005\n  victim = event.getEntity()              // \u83b7\u53d6\u53d7\u5bb3\u8005\n}\n\n// \u4ea4\u4e92\u4e8b\u4ef6\nif (event instanceof PlayerInteractEvent) {\n  action = event.getAction()              // \u83b7\u53d6\u4ea4\u4e92\u7c7b\u578b\n  block = event.getClickedBlock()         // \u83b7\u53d6\u70b9\u51fb\u7684\u65b9\u5757\n  item = event.getItem()                  // \u83b7\u53d6\u4f7f\u7528\u7684\u7269\u54c1\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u5de5\u5177-api",children:"\u5de5\u5177 API"}),"\n",(0,l.jsx)(n.h3,{id:"\u65f6\u95f4\u5de5\u5177",children:"\u65f6\u95f4\u5de5\u5177"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u5f53\u524d\u65f6\u95f4\ncurrentTime = System.currentTimeMillis()  // \u6beb\u79d2\u65f6\u95f4\u6233\ncurrentNano = System.nanoTime()           // \u7eb3\u79d2\u65f6\u95f4\u6233\n\n// \u65f6\u95f4\u683c\u5f0f\u5316\ndate = new Date()\nformatted = date.toLocaleString()         // \u672c\u5730\u5316\u65f6\u95f4\u5b57\u7b26\u4e32\n\n// \u65f6\u95f4\u8ba1\u7b97\noneHour = 60 * 60 * 1000                 // \u4e00\u5c0f\u65f6\u7684\u6beb\u79d2\u6570\noneDay = 24 * oneHour                    // \u4e00\u5929\u7684\u6beb\u79d2\u6570\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u968f\u673a\u5de5\u5177",children:"\u968f\u673a\u5de5\u5177"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u968f\u673a\u6570\u751f\u6210\nrandom = Math.random()                    // 0-1 \u4e4b\u95f4\u7684\u968f\u673a\u6570\nrandomInt = Math.floor(Math.random() * 100) // 0-99 \u7684\u968f\u673a\u6574\u6570\n\n// \u968f\u673a\u9009\u62e9\nitems = ["apple", "banana", "orange"]\nrandomItem = items[Math.floor(Math.random() * items.length)]\n\n// \u6982\u7387\u5224\u65ad\nif (Math.random() < 0.3) {               // 30% \u6982\u7387\n  player.sendMessage("\u5e78\u8fd0\u4e8b\u4ef6\u89e6\u53d1!")\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5b57\u7b26\u4e32\u5de5\u5177",children:"\u5b57\u7b26\u4e32\u5de5\u5177"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u5b57\u7b26\u4e32\u64cd\u4f5c\ntext = "Hello World"\nupper = text.toUpperCase()               // \u8f6c\u5927\u5199\nlower = text.toLowerCase()               // \u8f6c\u5c0f\u5199\nlength = text.length                     // \u83b7\u53d6\u957f\u5ea6\n\n// \u5b57\u7b26\u4e32\u683c\u5f0f\u5316\nformatted = `\u73a9\u5bb6 ${player.getName()} \u7684\u7b49\u7ea7\u662f ${player.getLevel()}`\n\n// \u6b63\u5219\u8868\u8fbe\u5f0f\npattern = /\\d+/g                         // \u5339\u914d\u6570\u5b57\nnumbers = text.match(pattern)            // \u63d0\u53d6\u6240\u6709\u6570\u5b57\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u6570\u5b66\u5de5\u5177",children:"\u6570\u5b66\u5de5\u5177"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u57fa\u7840\u6570\u5b66\nabs = Math.abs(-5)                       // \u7edd\u5bf9\u503c: 5\nmax = Math.max(10, 20, 5)               // \u6700\u5927\u503c: 20\nmin = Math.min(10, 20, 5)               // \u6700\u5c0f\u503c: 5\nround = Math.round(3.7)                 // \u56db\u820d\u4e94\u5165: 4\n\n// \u4e09\u89d2\u51fd\u6570\nsin = Math.sin(Math.PI / 2)             // \u6b63\u5f26\u503c\ncos = Math.cos(0)                       // \u4f59\u5f26\u503c\nsqrt = Math.sqrt(16)                    // \u5e73\u65b9\u6839: 4\n\n// \u8303\u56f4\u9650\u5236\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value))\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u670d\u52a1-api",children:"\u670d\u52a1 API"}),"\n",(0,l.jsx)(n.h3,{id:"\u51b7\u5374\u670d\u52a1",children:"\u51b7\u5374\u670d\u52a1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u83b7\u53d6\u51b7\u5374\u670d\u52a1\ncooldownService = item.service.get(Cooldown)\n\n// \u8bbe\u7f6e\u51b7\u5374\ncd = cooldownService.get(player, "ATTACK")\ncd.setCooldown("5s")                     // \u8bbe\u7f6e5\u79d2\u51b7\u5374\ncd.setCooldown(5000)                     // \u8bbe\u7f6e5000\u6beb\u79d2\u51b7\u5374\n\n// \u68c0\u67e5\u51b7\u5374\nif (cd.isInCooldown()) {\n  remaining = cd.getRemainingTime()      // \u83b7\u53d6\u5269\u4f59\u65f6\u95f4\n  player.sendMessage("\u51b7\u5374\u4e2d\uff0c\u8fd8\u9700 " + remaining + "ms")\n} else {\n  player.sendMessage("\u51b7\u5374\u5b8c\u6210\uff0c\u53ef\u4ee5\u4f7f\u7528!")\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u6570\u636e\u670d\u52a1",children:"\u6570\u636e\u670d\u52a1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u83b7\u53d6\u6570\u636e\u670d\u52a1\ndataService = item.service.get(DataService)\n\n// \u6570\u636e\u64cd\u4f5c\ndataService.set(player, "key", "value")  // \u8bbe\u7f6e\u73a9\u5bb6\u6570\u636e\nvalue = dataService.get(player, "key")   // \u83b7\u53d6\u73a9\u5bb6\u6570\u636e\ndataService.remove(player, "key")        // \u5220\u9664\u73a9\u5bb6\u6570\u636e\n\n// \u5168\u5c40\u6570\u636e\ndataService.setGlobal("server_info", info) // \u8bbe\u7f6e\u5168\u5c40\u6570\u636e\ninfo = dataService.getGlobal("server_info") // \u83b7\u53d6\u5168\u5c40\u6570\u636e\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u7b2c\u4e09\u65b9-api",children:"\u7b2c\u4e09\u65b9 API"}),"\n",(0,l.jsx)(n.h3,{id:"placeholderapi",children:"PlaceholderAPI"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u89e3\u6790\u5360\u4f4d\u7b26\nbalance = PlaceholderAPI.setPlaceholders(player, "%vault_eco_balance%")\nlevel = PlaceholderAPI.setPlaceholders(player, "%player_level%")\n\n// \u6279\u91cf\u89e3\u6790\nplaceholders = ["%player_name%", "%player_health%", "%player_level%"]\nresults = PlaceholderAPI.setPlaceholders(player, placeholders)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"vault-\u7ecf\u6d4e",children:"Vault \u7ecf\u6d4e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u83b7\u53d6\u7ecf\u6d4e\u670d\u52a1\neconomy = Bukkit.getServicesManager().getRegistration(Economy.class).getProvider()\n\n// \u4f59\u989d\u64cd\u4f5c\nbalance = economy.getBalance(player)      // \u83b7\u53d6\u4f59\u989d\neconomy.depositPlayer(player, 100)       // \u5b58\u5165\u91d1\u94b1\neconomy.withdrawPlayer(player, 50)       // \u6263\u9664\u91d1\u94b1\n\n// \u68c0\u67e5\u4f59\u989d\nif (economy.has(player, 100)) {\n  player.sendMessage("\u4f59\u989d\u5145\u8db3")\n} else {\n  player.sendMessage("\u4f59\u989d\u4e0d\u8db3")\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"worldguard",children:"WorldGuard"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u83b7\u53d6\u533a\u57df\u7ba1\u7406\u5668\nworldGuard = WorldGuard.getInstance()\nregionManager = worldGuard.getPlatform().getRegionContainer().get(player.getWorld())\n\n// \u68c0\u67e5\u533a\u57df\nlocation = player.getLocation()\nregions = regionManager.getApplicableRegions(\n  BlockVector3.at(location.getX(), location.getY(), location.getZ())\n)\n\n// \u6743\u9650\u68c0\u67e5\ncanBuild = regionManager.testState(location, player, Flags.BUILD)\ncanPvP = regionManager.testState(location, player, Flags.PVP)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,l.jsx)(n.h3,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'try {\n  // \u53ef\u80fd\u51fa\u9519\u7684\u4ee3\u7801\n  riskyOperation()\n} catch (error) {\n  console.error("\u64cd\u4f5c\u5931\u8d25: " + error.message)\n  player.sendMessage("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")\n} finally {\n  // \u6e05\u7406\u4ee3\u7801\n  cleanup()\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'// \u7f13\u5b58\u91cd\u590d\u8ba1\u7b97\nif (!cache.has("expensive_result")) {\n  result = performExpensiveCalculation()\n  cache.set("expensive_result", result, 60000) // \u7f13\u5b581\u5206\u949f\n}\n\n// \u5f02\u6b65\u6267\u884c\nasync(() => {\n  performHeavyOperation()\n})\n\n// \u6279\u91cf\u64cd\u4f5c\nitems = []\nfor (i = 0; i < 100; i++) {\n  items.push(createItem(i))\n}\nplayer.getInventory().addItem(...items)  // \u6279\u91cf\u6dfb\u52a0\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>s});var t=a(6540);const l={},i=t.createContext(l);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);