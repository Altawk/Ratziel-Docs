"use strict";(self.webpackChunkratziel_docs=self.webpackChunkratziel_docs||[]).push([[539],{8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var a=t(6540);const i={},l=a.createContext(i);function r(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(l.Provider,{value:n},e.children)}},9146:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>s});const a=JSON.parse('{"id":"writing/dynamic-items","title":"\u52a8\u6001\u7269\u54c1\u7cfb\u7edf","description":"\u52a8\u6001\u7269\u54c1\uff08\u4e5f\u79f0\u4e3a\u865a\u62df\u7269\u54c1\uff09\u662f Ratziel \u7684\u6838\u5fc3\u7279\u6027\u4e4b\u4e00\uff0c\u5b83\u5141\u8bb8\u7269\u54c1\u7684\u663e\u793a\u5185\u5bb9\u6839\u636e\u5b9e\u65f6\u6570\u636e\u52a8\u6001\u53d8\u5316\uff0c\u4e3a\u73a9\u5bb6\u63d0\u4f9b\u5b9e\u65f6\u66f4\u65b0\u7684\u7269\u54c1\u4fe1\u606f\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u751f\u6210\u7269\u54c1\u3002","source":"@site/docs/writing/dynamic-items.md","sourceDirName":"writing","slug":"/writing/dynamic-items","permalink":"/Ratziel-Docs/docs/writing/dynamic-items","draft":false,"unlisted":false,"editUrl":"https://github.com/Altawk/Ratziel-Docs/tree/master/docs/writing/dynamic-items.md","tags":[],"version":"current","lastUpdatedBy":"\u86df\u9f99","lastUpdatedAt":1759681303000,"sidebarPosition":12,"frontMatter":{"title":"\u52a8\u6001\u7269\u54c1\u7cfb\u7edf","sidebar_position":12},"sidebar":"tutorialSidebar","previous":{"title":"\u4f7f\u7528\u6848\u4f8b","permalink":"/Ratziel-Docs/docs/writing/examples"},"next":{"title":"Minecraft\u5bb9\u5668\u4ea4\u4e92\u8bb0\u5f55","permalink":"/Ratziel-Docs/docs/writing/Minecraft\u5bb9\u5668\u4ea4\u4e92\u8bb0\u5f55"}}');var i=t(4848),l=t(8453);const r={title:"\u52a8\u6001\u7269\u54c1\u7cfb\u7edf",sidebar_position:12},c="\u52a8\u6001\u7269\u54c1\u7cfb\u7edf",d={},s=[{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:2},{value:"\u52a8\u6001\u6807\u7b7e",id:"\u52a8\u6001\u6807\u7b7e",level:3},{value:"\u865a\u62df\u6e32\u67d3",id:"\u865a\u62df\u6e32\u67d3",level:3},{value:"\u5b9e\u65f6\u540c\u6b65",id:"\u5b9e\u65f6\u540c\u6b65",level:3},{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",level:2},{value:"\u52a8\u6001\u6807\u7b7e\u8bed\u6cd5",id:"\u52a8\u6001\u6807\u7b7e\u8bed\u6cd5",level:3},{value:"\u6570\u636e\u9a71\u52a8\u7684\u52a8\u6001\u663e\u793a",id:"\u6570\u636e\u9a71\u52a8\u7684\u52a8\u6001\u663e\u793a",level:3},{value:"\u652f\u6301\u7684\u52a8\u6001\u89e3\u6790\u5668",id:"\u652f\u6301\u7684\u52a8\u6001\u89e3\u6790\u5668",level:2},{value:"data \u89e3\u6790\u5668",id:"data-\u89e3\u6790\u5668",level:3},{value:"computation \u89e3\u6790\u5668",id:"computation-\u89e3\u6790\u5668",level:3},{value:"script \u89e3\u6790\u5668",id:"script-\u89e3\u6790\u5668",level:3},{value:"\u9ad8\u7ea7\u5e94\u7528",id:"\u9ad8\u7ea7\u5e94\u7528",level:2},{value:"\u72b6\u6001\u76d1\u63a7\u7269\u54c1",id:"\u72b6\u6001\u76d1\u63a7\u7269\u54c1",level:3},{value:"\u8fdb\u5ea6\u8ffd\u8e2a\u7269\u54c1",id:"\u8fdb\u5ea6\u8ffd\u8e2a\u7269\u54c1",level:3},{value:"\u88c5\u5907\u5c5e\u6027\u9762\u677f",id:"\u88c5\u5907\u5c5e\u6027\u9762\u677f",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:2},{value:"\u667a\u80fd\u66f4\u65b0\u673a\u5236",id:"\u667a\u80fd\u66f4\u65b0\u673a\u5236",level:3},{value:"\u6761\u4ef6\u6027\u52a8\u6001\u6807\u7b7e",id:"\u6761\u4ef6\u6027\u52a8\u6001\u6807\u7b7e",level:3},{value:"\u6280\u672f\u539f\u7406",id:"\u6280\u672f\u539f\u7406",level:2},{value:"\u865a\u62df\u6e32\u67d3\u6d41\u7a0b",id:"\u865a\u62df\u6e32\u67d3\u6d41\u7a0b",level:3},{value:"\u6570\u636e\u4e00\u81f4\u6027",id:"\u6570\u636e\u4e00\u81f4\u6027",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"\u52a8\u6001\u6807\u7b7e\u6ce8\u518c",id:"\u52a8\u6001\u6807\u7b7e\u6ce8\u518c",level:3},{value:"\u865a\u62df\u6e32\u67d3\u5668",id:"\u865a\u62df\u6e32\u67d3\u5668",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u52a8\u6001\u7269\u54c1\u7cfb\u7edf",children:"\u52a8\u6001\u7269\u54c1\u7cfb\u7edf"})}),"\n",(0,i.jsx)(n.p,{children:"\u52a8\u6001\u7269\u54c1\uff08\u4e5f\u79f0\u4e3a\u865a\u62df\u7269\u54c1\uff09\u662f Ratziel \u7684\u6838\u5fc3\u7279\u6027\u4e4b\u4e00\uff0c\u5b83\u5141\u8bb8\u7269\u54c1\u7684\u663e\u793a\u5185\u5bb9\u6839\u636e\u5b9e\u65f6\u6570\u636e\u52a8\u6001\u53d8\u5316\uff0c\u4e3a\u73a9\u5bb6\u63d0\u4f9b\u5b9e\u65f6\u66f4\u65b0\u7684\u7269\u54c1\u4fe1\u606f\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u751f\u6210\u7269\u54c1\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,i.jsx)(n.h3,{id:"\u52a8\u6001\u6807\u7b7e",children:"\u52a8\u6001\u6807\u7b7e"}),"\n",(0,i.jsxs)(n.p,{children:["\u52a8\u6001\u6807\u7b7e\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"{dynamic:\u89e3\u6790\u5668:\u53c2\u6570}"})," \u8bed\u6cd5\uff0c\u5728\u7269\u54c1\u663e\u793a\u65f6\u5b9e\u65f6\u89e3\u6790\uff0c\u5185\u5bb9\u53ef\u4ee5\u6839\u636e\u5f53\u524d\u72b6\u6001\u52a8\u6001\u53d8\u5316\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u865a\u62df\u6e32\u67d3",children:"\u865a\u62df\u6e32\u67d3"}),"\n",(0,i.jsx)(n.p,{children:"\u7cfb\u7edf\u901a\u8fc7\u865a\u62df\u6e32\u67d3\u6280\u672f\uff0c\u5728\u5ba2\u6237\u7aef\u663e\u793a\u52a8\u6001\u5185\u5bb9\uff0c\u800c\u670d\u52a1\u7aef\u4fdd\u6301\u539f\u59cb\u7269\u54c1\u6570\u636e\u4e0d\u53d8\uff0c\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9e\u65f6\u540c\u6b65",children:"\u5b9e\u65f6\u540c\u6b65"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u52a8\u6001\u5185\u5bb9\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7cfb\u7edf\u81ea\u52a8\u540c\u6b65\u5230\u5ba2\u6237\u7aef\uff0c\u73a9\u5bb6\u53ef\u4ee5\u770b\u5230\u5b9e\u65f6\u66f4\u65b0\u7684\u7269\u54c1\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u57fa\u7840\u7528\u6cd5",children:"\u57fa\u7840\u7528\u6cd5"}),"\n",(0,i.jsx)(n.h3,{id:"\u52a8\u6001\u6807\u7b7e\u8bed\u6cd5",children:"\u52a8\u6001\u6807\u7b7e\u8bed\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# \u57fa\u7840\u8bed\u6cd5\nname: "\u7269\u54c1\u540d\u79f0 {dynamic:\u89e3\u6790\u5668\u540d\u79f0:\u53c2\u6570}"\n\n# \u5e38\u7528\u52a8\u6001\u6807\u7b7e\nDynamicItem:\n  item:\n    material: COMPASS\n    name: "<blue>\u52a8\u6001\u6307\u5357\u9488"\n    lore:\n      - "\u5f53\u524d\u8840\u91cf: {dynamic:data:health}"\n      - "\u5f53\u524d\u4f4d\u7f6e: {dynamic:script:player.getLocation().toString()}"\n      - "\u5728\u7ebf\u65f6\u95f4: {dynamic:computation:online_time}"\n      - "\u968f\u673a\u6570: {dynamic:script:Math.floor(Math.random() * 100)}"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u9a71\u52a8\u7684\u52a8\u6001\u663e\u793a",children:"\u6570\u636e\u9a71\u52a8\u7684\u52a8\u6001\u663e\u793a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'KillCounter:\n  item:\n    material: DIAMOND_SWORD\n    name: "<blue>\u51fb\u6740\u8ba1\u6570\u5668 <yellow>[{dynamic:data:kill_count}]"\n    lore:\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n      - "<red>\ud83d\udc80 \u51fb\u6740\u6570: <white>{dynamic:data:kill_count}"\n      - "<yellow>\u2b50 \u7b49\u7ea7: <white>{dynamic:data:level}"\n      - "<blue>\ud83d\udcca \u7ecf\u9a8c: <white>{dynamic:data:experience}/{dynamic:data:max_experience}"\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n    \n    data:\n      kill_count: 0\n      level: 1\n      experience: 0\n      max_experience: 100\n    \n    action:\n      onKill: |-\n        // \u66f4\u65b0\u51fb\u6740\u6570\n        kills = item.get("kill_count") || 0\n        item.set("kill_count", kills + 1)\n        \n        // \u66f4\u65b0\u7ecf\u9a8c\n        exp = item.get("experience") || 0\n        newExp = exp + 10\n        \n        if (newExp >= item.get("max_experience")) {\n          // \u5347\u7ea7\u903b\u8f91\n          level = item.get("level") || 1\n          item.set("level", level + 1)\n          item.set("experience", 0)\n          item.set("max_experience", (level + 1) * 100)\n        } else {\n          item.set("experience", newExp)\n        }\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u652f\u6301\u7684\u52a8\u6001\u89e3\u6790\u5668",children:"\u652f\u6301\u7684\u52a8\u6001\u89e3\u6790\u5668"}),"\n",(0,i.jsx)(n.h3,{id:"data-\u89e3\u6790\u5668",children:"data \u89e3\u6790\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbf\u95ee\u7269\u54c1\u7684\u6570\u636e\u5c42\u5185\u5bb9\uff0c\u652f\u6301\u5b9e\u65f6\u6570\u636e\u53d8\u5316\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'PlayerStats:\n  item:\n    material: PLAYER_HEAD\n    name: "<green>\u73a9\u5bb6\u72b6\u6001\u9762\u677f"\n    lore:\n      - "\u8840\u91cf: {dynamic:data:health}/{dynamic:data:max_health}"\n      - "\u6cd5\u529b: {dynamic:data:mana}/{dynamic:data:max_mana}"\n      - "\u7b49\u7ea7: {dynamic:data:level}"\n      - "\u7ecf\u9a8c: {dynamic:data:exp}/{dynamic:data:max_exp}"\n    \n    data:\n      health: 20\n      max_health: 20\n      mana: 100\n      max_mana: 100\n      level: 1\n      exp: 0\n      max_exp: 100\n'})}),"\n",(0,i.jsx)(n.h3,{id:"computation-\u89e3\u6790\u5668",children:"computation \u89e3\u6790\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u6267\u884c\u8ba1\u7b97\u811a\u672c\uff0c\u652f\u6301\u590d\u6742\u7684\u52a8\u6001\u8ba1\u7b97\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'SmartWeapon:\n  item:\n    material: NETHERITE_SWORD\n    name: "<red>\u667a\u80fd\u6b66\u5668 <gray>[\u653b\u51fb\u529b: {dynamic:computation:attack_power}]"\n    lore:\n      - "\u57fa\u7840\u653b\u51fb: {dynamic:computation:base_attack}"\n      - "\u7b49\u7ea7\u52a0\u6210: {dynamic:computation:level_bonus}"\n      - "\u603b\u653b\u51fb\u529b: {dynamic:computation:attack_power}"\n      - "\u66b4\u51fb\u7387: {dynamic:computation:crit_chance}%"\n    \n    data:\n      level: 1\n      base_attack: 10\n      crit_chance: 5\n    \n    computation:\n      base_attack: |-\n        return item.get("base_attack") || 10\n      \n      level_bonus: |-\n        level = item.get("level") || 1\n        return level * 2\n      \n      attack_power: |-\n        base = item.get("base_attack") || 10\n        level = item.get("level") || 1\n        return base + (level * 2)\n      \n      crit_chance: |-\n        base = item.get("crit_chance") || 5\n        level = item.get("level") || 1\n        return Math.min(base + level, 50)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"script-\u89e3\u6790\u5668",children:"script \u89e3\u6790\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u76f4\u63a5\u6267\u884c\u811a\u672c\u4ee3\u7801\uff0c\u83b7\u53d6\u5b9e\u65f6\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'LiveInfo:\n  item:\n    material: CLOCK\n    name: "<yellow>\u5b9e\u65f6\u4fe1\u606f\u9762\u677f"\n    lore:\n      - "\u5f53\u524d\u65f6\u95f4: {dynamic:script:new Date().toLocaleString()}"\n      - "\u670d\u52a1\u5668TPS: {dynamic:script:Bukkit.getTPS()[0].toFixed(2)}"\n      - "\u5728\u7ebf\u73a9\u5bb6: {dynamic:script:Bukkit.getOnlinePlayers().size()}"\n      - "\u5f53\u524d\u4e16\u754c: {dynamic:script:player.getWorld().getName()}"\n      - "\u5750\u6807: {dynamic:script:Math.floor(player.getLocation().getX()) + \',\' + Math.floor(player.getLocation().getY()) + \',\' + Math.floor(player.getLocation().getZ())}"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u9ad8\u7ea7\u5e94\u7528",children:"\u9ad8\u7ea7\u5e94\u7528"}),"\n",(0,i.jsx)(n.h3,{id:"\u72b6\u6001\u76d1\u63a7\u7269\u54c1",children:"\u72b6\u6001\u76d1\u63a7\u7269\u54c1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'StatusMonitor:\n  item:\n    material: REDSTONE\n    name: "<rainbow>\u72b6\u6001\u76d1\u63a7\u5668</rainbow>"\n    lore:\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n      - "<red>\u2764 \u8840\u91cf: <white>{dynamic:script:player.getHealth().toFixed(1)}/{dynamic:script:player.getMaxHealth()}"\n      - "<blue>\ud83c\udf56 \u9965\u997f: <white>{dynamic:script:player.getFoodLevel()}/20"\n      - "<yellow>\u26a1 \u7ecf\u9a8c: <white>{dynamic:script:player.getLevel()}"\n      - "<green>\ud83d\udcb0 \u91d1\u94b1: <white>{dynamic:script:economy ? economy.getBalance(player).toFixed(2) : \'N/A\'}"\n      - "<purple>\ud83c\udf0d \u4e16\u754c: <white>{dynamic:script:player.getWorld().getName()}"\n      - "<aqua>\ud83d\udccd \u4f4d\u7f6e: <white>{dynamic:script:Math.floor(player.getLocation().getX()) + \',\' + Math.floor(player.getLocation().getZ())}"\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n    \n    action:\n      onTick:\n        period: 20  # \u6bcf\u79d2\u66f4\u65b0\u4e00\u6b21\n        run: \'item.updateDisplay()\'  # \u89e6\u53d1\u663e\u793a\u66f4\u65b0\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u8fdb\u5ea6\u8ffd\u8e2a\u7269\u54c1",children:"\u8fdb\u5ea6\u8ffd\u8e2a\u7269\u54c1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'QuestTracker:\n  item:\n    material: BOOK\n    name: "<gold>\u4efb\u52a1\u8ffd\u8e2a\u5668"\n    lore:\n      - "<yellow>\u5f53\u524d\u4efb\u52a1: {dynamic:data:current_quest}"\n      - "<green>\u8fdb\u5ea6: {dynamic:data:progress}/{dynamic:data:max_progress}"\n      - "<blue>\u5b8c\u6210\u5ea6: {dynamic:computation:completion_percentage}%"\n      - ""\n      - "<gray>\u4efb\u52a1\u63cf\u8ff0:"\n      - "<white>{dynamic:data:quest_description}"\n    \n    data:\n      current_quest: "\u6536\u96c6\u6728\u6750"\n      progress: 5\n      max_progress: 20\n      quest_description: "\u6536\u96c6 20 \u4e2a\u6728\u6750\u6765\u5efa\u9020\u623f\u5c4b"\n    \n    computation:\n      completion_percentage: |-\n        progress = item.get("progress") || 0\n        maxProgress = item.get("max_progress") || 1\n        return Math.floor((progress / maxProgress) * 100)\n    \n    action:\n      onTick:\n        period: 100  # \u6bcf5\u79d2\u68c0\u67e5\u4e00\u6b21\n        run: |-\n          // \u68c0\u67e5\u4efb\u52a1\u8fdb\u5ea6\u5e76\u66f4\u65b0\n          // \u8fd9\u91cc\u53ef\u4ee5\u6dfb\u52a0\u4efb\u52a1\u68c0\u67e5\u903b\u8f91\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u88c5\u5907\u5c5e\u6027\u9762\u677f",children:"\u88c5\u5907\u5c5e\u6027\u9762\u677f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'EquipmentPanel:\n  item:\n    material: DIAMOND_CHESTPLATE\n    name: "<blue>\u88c5\u5907\u5c5e\u6027\u9762\u677f"\n    lore:\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n      - "<red>\u2694 \u653b\u51fb\u529b: <white>{dynamic:computation:total_attack}"\n      - "<blue>\ud83d\udee1 \u9632\u5fa1\u529b: <white>{dynamic:computation:total_defense}"\n      - "<yellow>\u26a1 \u901f\u5ea6: <white>{dynamic:computation:total_speed}"\n      - "<green>\u2764 \u751f\u547d\u503c: <white>{dynamic:computation:total_health}"\n      - "<purple>\u2728 \u9b54\u6cd5\u529b: <white>{dynamic:computation:total_mana}"\n      - "<gray>\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"\n      - "<aqua>\u5957\u88c5\u6548\u679c: {dynamic:computation:set_bonus}"\n    \n    computation:\n      total_attack: |-\n        // \u8ba1\u7b97\u6240\u6709\u88c5\u5907\u7684\u653b\u51fb\u529b\u603b\u548c\n        total = 0\n        inventory = player.getInventory()\n        \n        // \u68c0\u67e5\u4e3b\u624b\u6b66\u5668\n        mainHand = inventory.getItemInMainHand()\n        if (mainHand && mainHand.hasItemMeta()) {\n          // \u8fd9\u91cc\u6dfb\u52a0\u83b7\u53d6\u6b66\u5668\u653b\u51fb\u529b\u7684\u903b\u8f91\n        }\n        \n        return total\n      \n      total_defense: |-\n        // \u8ba1\u7b97\u6240\u6709\u62a4\u7532\u7684\u9632\u5fa1\u529b\u603b\u548c\n        return calculateArmorDefense(player)\n      \n      set_bonus: |-\n        // \u68c0\u67e5\u5957\u88c5\u6548\u679c\n        return checkSetBonus(player)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,i.jsx)(n.h3,{id:"\u667a\u80fd\u66f4\u65b0\u673a\u5236",children:"\u667a\u80fd\u66f4\u65b0\u673a\u5236"}),"\n",(0,i.jsx)(n.p,{children:"\u7cfb\u7edf\u53ea\u5728\u5fc5\u8981\u65f6\u66f4\u65b0\u52a8\u6001\u5185\u5bb9\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'OptimizedItem:\n  item:\n    material: EMERALD\n    name: "<green>\u4f18\u5316\u7269\u54c1"\n    lore:\n      - "\u8840\u91cf: {dynamic:data:cached_health}"  # \u4f7f\u7528\u7f13\u5b58\u6570\u636e\n      - "\u66f4\u65b0\u65f6\u95f4: {dynamic:data:last_update}"\n    \n    action:\n      onTick:\n        period: 100  # \u6bcf5\u79d2\u66f4\u65b0\u4e00\u6b21\uff0c\u800c\u4e0d\u662f\u6bcftick\n        run: |-\n          // \u53ea\u5728\u6570\u636e\u771f\u6b63\u53d8\u5316\u65f6\u66f4\u65b0\n          currentHealth = player.getHealth()\n          lastHealth = item.get("cached_health") || 0\n          \n          if (Math.abs(currentHealth - lastHealth) > 0.5) {\n            item.set("cached_health", currentHealth)\n            item.set("last_update", new Date().toLocaleString())\n          }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u6761\u4ef6\u6027\u52a8\u6001\u6807\u7b7e",children:"\u6761\u4ef6\u6027\u52a8\u6001\u6807\u7b7e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'ConditionalDynamic:\n  item:\n    material: COMPASS\n    name: "<yellow>\u6761\u4ef6\u52a8\u6001\u7269\u54c1"\n    lore:\n      - condition: "{dynamic:script:player.getHealth() < 10}"\n        content: "<red>\u26a0 \u8840\u91cf\u5371\u9669\uff01"\n      - condition: "{dynamic:script:player.getLevel() >= 10}"\n        content: "<gold>\u2b50 \u9ad8\u7b49\u7ea7\u73a9\u5bb6"\n      - "\u666e\u901a\u4fe1\u606f\u663e\u793a"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6280\u672f\u539f\u7406",children:"\u6280\u672f\u539f\u7406"}),"\n",(0,i.jsx)(n.h3,{id:"\u865a\u62df\u6e32\u67d3\u6d41\u7a0b",children:"\u865a\u62df\u6e32\u67d3\u6d41\u7a0b"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6807\u8bb0\u8bc6\u522b"}),"\uff1a\u7cfb\u7edf\u8bc6\u522b\u914d\u7f6e\u4e2d\u7684\u52a8\u6001\u6807\u7b7e"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u865a\u62df\u6e32\u67d3"}),"\uff1a\u5728\u53d1\u9001\u5230\u5ba2\u6237\u7aef\u524d\uff0c\u5b9e\u65f6\u89e3\u6790\u52a8\u6001\u5185\u5bb9"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5dee\u5f02\u8bb0\u5f55"}),"\uff1a\u8bb0\u5f55\u865a\u62df\u7269\u54c1\u4e0e\u539f\u59cb\u7269\u54c1\u7684\u5dee\u5f02"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5ba2\u6237\u7aef\u540c\u6b65"}),"\uff1a\u5c06\u6e32\u67d3\u540e\u7684\u7269\u54c1\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6062\u590d\u673a\u5236"}),"\uff1a\u5728\u670d\u52a1\u7aef\u64cd\u4f5c\u65f6\u6062\u590d\u539f\u59cb\u7269\u54c1\u6570\u636e"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u4e00\u81f4\u6027",children:"\u6570\u636e\u4e00\u81f4\u6027"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u670d\u52a1\u7aef\u5b58\u50a8"}),"\uff1a\u539f\u59cb\u7269\u54c1\u6570\u636e\u59cb\u7ec8\u4fdd\u5b58\u5728\u670d\u52a1\u7aef"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5ba2\u6237\u7aef\u663e\u793a"}),"\uff1a\u52a8\u6001\u6e32\u67d3\u7684\u5185\u5bb9\u4ec5\u7528\u4e8e\u5ba2\u6237\u7aef\u663e\u793a"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u64cd\u4f5c\u6062\u590d"}),"\uff1a\u6240\u6709\u670d\u52a1\u7aef\u64cd\u4f5c\u90fd\u57fa\u4e8e\u539f\u59cb\u6570\u636e"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5408\u7406\u4f7f\u7528\u9891\u7387"}),"\uff1a\u907f\u514d\u8fc7\u4e8e\u9891\u7e41\u7684\u52a8\u6001\u66f4\u65b0"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c"}),"\uff1a\u5bf9\u590d\u6742\u8ba1\u7b97\u8fdb\u884c\u7f13\u5b58"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6761\u4ef6\u6027\u66f4\u65b0"}),"\uff1a\u53ea\u5728\u6570\u636e\u771f\u6b63\u53d8\u5316\u65f6\u66f4\u65b0"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u7b80\u5316\u811a\u672c\u903b\u8f91"}),"\uff1a\u4fdd\u6301\u52a8\u6001\u811a\u672c\u7b80\u5355\u9ad8\u6548"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6d4b\u8bd5\u6027\u80fd\u5f71\u54cd"}),"\uff1a\u76d1\u63a7\u52a8\u6001\u7269\u54c1\u5bf9\u670d\u52a1\u5668\u6027\u80fd\u7684\u5f71\u54cd"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,i.jsx)(n.h3,{id:"\u52a8\u6001\u6807\u7b7e\u6ce8\u518c",children:"\u52a8\u6001\u6807\u7b7e\u6ce8\u518c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// \u6ce8\u518c\u52a8\u6001\u6807\u7b7e\u89e3\u6790\u5668\nItemRegistry.registerDynamicTagResolver(object : ItemTagResolver {\n    override val alias = arrayOf("custom")\n    \n    override fun resolve(args: List<String>, context: ArgumentContext): String? {\n        // \u81ea\u5b9a\u4e49\u52a8\u6001\u89e3\u6790\u903b\u8f91\n        return "\u52a8\u6001\u5185\u5bb9"\n    }\n})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u865a\u62df\u6e32\u67d3\u5668",children:"\u865a\u62df\u6e32\u67d3\u5668"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"// \u81ea\u5b9a\u4e49\u865a\u62df\u6e32\u67d3\u5668\nobject CustomVirtualRenderer : VirtualItemRenderer.Acceptor {\n    override fun wouldChange(context: ArgumentContext): Boolean {\n        // \u5224\u65ad\u662f\u5426\u9700\u8981\u6e32\u67d3\n        return true\n    }\n    \n    override fun accept(actual: NeoItem, context: ArgumentContext) {\n        // \u81ea\u5b9a\u4e49\u6e32\u67d3\u903b\u8f91\n    }\n}\n\n// \u6ce8\u518c\u6e32\u67d3\u5668\nNativeVirtualItemRenderer.acceptors.add(CustomVirtualRenderer)\n"})})]})}function m(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);