"use strict";(self.webpackChunkratziel_wiki=self.webpackChunkratziel_wiki||[]).push([[864],{3973:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"examples","title":"\u4f7f\u7528\u6848\u4f8b","description":"\u672c\u9875\u9762\u63d0\u4f9b\u4e00\u4e9b\u5b9e\u7528\u7684 Ratziel \u63d2\u4ef6\u914d\u7f6e\u6848\u4f8b\uff0c\u5e2e\u52a9\u60a8\u5feb\u901f\u4e0a\u624b\u5e76\u7406\u89e3\u5404\u79cd\u529f\u80fd\u7684\u5b9e\u9645\u5e94\u7528\u3002","source":"@site/docs/examples.md","sourceDirName":".","slug":"/examples","permalink":"/Ratziel-Docs/docs/examples","draft":false,"unlisted":false,"editUrl":"https://github.com/TheFloodDragon/Ratziel-Docs/tree/master/docs/examples.md","tags":[],"version":"current","lastUpdatedAt":1749370691000,"sidebarPosition":7,"frontMatter":{"title":"\u4f7f\u7528\u6848\u4f8b","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u9ad8\u7ea7\u529f\u80fd","permalink":"/Ratziel-Docs/docs/advanced"}}');var a=t(4848),i=t(8453);const o={title:"\u4f7f\u7528\u6848\u4f8b",sidebar_position:7},c="\u4f7f\u7528\u6848\u4f8b",s={},r=[{value:"\u57fa\u7840\u6848\u4f8b",id:"\u57fa\u7840\u6848\u4f8b",level:2},{value:"\u7b80\u5355\u7269\u54c1",id:"\u7b80\u5355\u7269\u54c1",level:3},{value:"\u6740\u654c\u8ba1\u6570\u5668",id:"\u6740\u654c\u8ba1\u6570\u5668",level:2},{value:"\u8ba4\u4e3b\u7269\u54c1",id:"\u8ba4\u4e3b\u7269\u54c1",level:2},{value:"\u9ad8\u7ea7\u6848\u4f8b",id:"\u9ad8\u7ea7\u6848\u4f8b",level:2},{value:"\u6280\u80fd\u7269\u54c1",id:"\u6280\u80fd\u7269\u54c1",level:3},{value:"\u968f\u673a\u9644\u9b54\u7269\u54c1",id:"\u968f\u673a\u9644\u9b54\u7269\u54c1",level:3},{value:"\u5b9e\u7528\u5de5\u5177\u7ec4\u5408",id:"\u5b9e\u7528\u5de5\u5177\u7ec4\u5408",level:3},{value:"\u5176\u4ed6\u6848\u4f8b",id:"\u5176\u4ed6\u6848\u4f8b",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u4f7f\u7528\u6848\u4f8b",children:"\u4f7f\u7528\u6848\u4f8b"})}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u9875\u9762\u63d0\u4f9b\u4e00\u4e9b\u5b9e\u7528\u7684 Ratziel \u63d2\u4ef6\u914d\u7f6e\u6848\u4f8b\uff0c\u5e2e\u52a9\u60a8\u5feb\u901f\u4e0a\u624b\u5e76\u7406\u89e3\u5404\u79cd\u529f\u80fd\u7684\u5b9e\u9645\u5e94\u7528\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u57fa\u7840\u6848\u4f8b",children:"\u57fa\u7840\u6848\u4f8b"}),"\n",(0,a.jsx)(n.h3,{id:"\u7b80\u5355\u7269\u54c1",children:"\u7b80\u5355\u7269\u54c1"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u4e2a\u6848\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u521b\u5efa\u4e00\u4e2a\u5e26\u6709\u81ea\u5b9a\u4e49\u540d\u79f0\u548c\u63cf\u8ff0\u7684\u57fa\u7840\u7269\u54c1\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'BlackApple:\n  item:\n    material: APPLE\n    name: "<black>Bad Black <red>Apple"\n    lore:\n      - "<white>But it tastes great!"\n      - "<gold>Mr.Black\'s Apple <green>is so good!"\n      - "<blue>Let me press <key:key.jump> to jump!"\n    unbreakable: true # \u4e0d\u53ef\u7834\u574f\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u6740\u654c\u8ba1\u6570\u5668",children:"\u6740\u654c\u8ba1\u6570\u5668"}),"\n",(0,a.jsx)(n.p,{children:"\u4e00\u4e2a\u80fd\u591f\u8bb0\u5f55\u73a9\u5bb6\u51fb\u6740\u6570\u91cf\u7684\u6b66\u5668\uff0c\u5e76\u52a8\u6001\u663e\u793a\u5728\u7269\u54c1\u540d\u79f0\u4e2d\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# \u6848\u4f8b: \u6740\u654c\u6570\u7edf\u8ba1\nKillCounter:\n  meta:\n    material: diamond_sword\n    # dynamic \u8868\u793a\u52a8\u6001\u6807\u7b7e, \u5728\u975e\u521b\u9020\u6a21\u5f0f\u4e0b\u52a8\u6001\u89e3\u6790, \u5e76\u5448\u73b0\u7ed9\u73a9\u5bb6\n    name: '<blue>\u5df2\u51fb\u6740: <yellow>{dynamic:data:kill_count}'\n    data:\n      kill_count: 0 # \u6740\u654c\u6570\u7edf\u8ba1\u6570\u636e (\u8fd9\u91cc\u662f\u8d4b\u521d\u503c)\n    action:\n      # \u89e6\u53d1\u5668: \u5f53\u7528\u6b64\u7269\u54c1\u51fb\u6740\u751f\u7269\u65f6\u89e6\u53d1\n      onKill:\n        - 'count = item.get(\"kill_count\").content' # \u83b7\u53d6\u6740\u654c\u6570\u5185\u5bb9\u6570\u636e\n        - 'item.set(\"kill_count\", new NbtInt(count + 1))' # \u6740\u654c\u6570 + 1\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u8ba4\u4e3b\u7269\u54c1",children:"\u8ba4\u4e3b\u7269\u54c1"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u4e2a\u7269\u54c1\u5728\u4e22\u51fa\u65f6\u4f1a\u8bb0\u4f4f\u6240\u6709\u8005\uff0c\u53ea\u6709\u6240\u6709\u8005\u624d\u80fd\u6361\u8d77\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"owned:\n  item:\n    mat: diamond_sword\n    name: \"\u8ba4\u4e3b\u4e4b\u5251\"\n    actions:\n      onDrop: 'dropped.setOwner(player.getUniqueId())'\n      onPick: |-\n        owner = picked.getOwner()\n        if (owner && entity.getUniqueId() != owner) {\n            event.setCancelled(true)\n        }\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u9ad8\u7ea7\u6848\u4f8b",children:"\u9ad8\u7ea7\u6848\u4f8b"}),"\n",(0,a.jsx)(n.h3,{id:"\u6280\u80fd\u7269\u54c1",children:"\u6280\u80fd\u7269\u54c1"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u5e26\u6709\u51b7\u5374\u65f6\u95f4\u7684\u6280\u80fd\u7269\u54c1\uff0c\u53ef\u4ee5\u53d1\u5c04\u706b\u7403\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'fireballWand:\n  meta:\n    material: BLAZE_ROD\n    name: "<gold>\u706b\u7403\u6cd5\u6756"\n    lore:\n      - "<yellow>\u53f3\u952e\u53d1\u5c04\u706b\u7403"\n      - "<gray>\u51b7\u5374\u65f6\u95f4: <green>3\u79d2"\n    enchant:\n      FIRE_ASPECT: 1\n    hideFlags:\n      - HIDE_ENCHANTS\n    action:\n      onInteract: |-\n        if (event.getAction() != Action.RIGHT_CLICK_AIR && event.getAction() != Action.RIGHT_CLICK_BLOCK) {\n          return\n        }\n        \n        cd = item.service.get(Cooldown).get(player, "FIREBALL")\n        \n        if (cd.isInCooldown()) {\n          player.sendRichMessage("<red>\u6280\u80fd\u51b7\u5374\u4e2d: <yellow>" + cd.getRemaining() + "\u79d2")\n          return\n        }\n        \n        // \u521b\u5efa\u706b\u7403\n        fireball = player.getWorld().spawn(player.getEyeLocation(), Fireball.class)\n        fireball.setShooter(player)\n        fireball.setYield(2)\n        fireball.setDirection(player.getEyeLocation().getDirection().multiply(2))\n        \n        // \u8bbe\u7f6e\u51b7\u5374\n        cd.setCooldown("3s")\n        \n        // \u64ad\u653e\u6548\u679c\n        player.playSound(player.getLocation(), Sound.ENTITY_BLAZE_SHOOT, 1, 1)\n        player.sendRichMessage("<green>\u706b\u7403\u5df2\u53d1\u5c04!")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u968f\u673a\u9644\u9b54\u7269\u54c1",children:"\u968f\u673a\u9644\u9b54\u7269\u54c1"}),"\n",(0,a.jsx)(n.p,{children:"\u4e00\u4e2a\u5728\u521b\u5efa\u65f6\u968f\u673a\u7ed9\u4e88\u4e0d\u540c\u9644\u9b54\u7684\u7269\u54c1\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'randomEnchanted:\n  meta:\n    material: DIAMOND_SWORD\n    name: "<aqua>\u547d\u8fd0\u4e4b\u5203"\n    lore:\n      - "<gray>\u6bcf\u6b21\u83b7\u53d6\u90fd\u6709\u4e0d\u540c\u7684\u9644\u9b54\u6548\u679c"\n    define:\n      randomEnchant: |-\n        enchants = [\n          "DAMAGE_ALL",\n          "DAMAGE_ARTHROPODS",\n          "DAMAGE_UNDEAD",\n          "KNOCKBACK",\n          "FIRE_ASPECT",\n          "LOOT_BONUS_MOBS"\n        ]\n        \n        // \u968f\u673a\u9009\u62e91-3\u4e2a\u9644\u9b54\n        count = Math.floor(Math.random() * 3) + 1\n        selected = []\n        \n        for (i = 0; i < count; i++) {\n          idx = Math.floor(Math.random() * enchants.length)\n          ench = enchants[idx]\n          level = Math.floor(Math.random() * 4) + 1\n          selected.push([ench, level])\n          enchants.splice(idx, 1)\n          if (enchants.length == 0) break\n        }\n        \n        return selected\n    action:\n      onCreate: |-\n        // \u83b7\u53d6\u968f\u673a\u9644\u9b54\n        enchants = define.randomEnchant\n        \n        // \u5e94\u7528\u9644\u9b54\n        for (i = 0; i < enchants.length; i++) {\n          ench = enchants[i]\n          meta = item.getItemMeta()\n          meta.addEnchant(Enchantment.getByName(ench[0]), ench[1], true)\n          item.setItemMeta(meta)\n        }\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5b9e\u7528\u5de5\u5177\u7ec4\u5408",children:"\u5b9e\u7528\u5de5\u5177\u7ec4\u5408"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u4e2a\u914d\u7f6e\u521b\u5efa\u4e00\u4e2a\u591a\u529f\u80fd\u5de5\u5177\uff0c\u53ef\u4ee5\u6d4b\u91cf\u8ddd\u79bb\u548c\u590d\u5236\u65b9\u5757\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'utilityWand:\n  meta:\n    material: STICK\n    name: "<light_purple>\u5de5\u5177\u9b54\u6756"\n    lore:\n      - "<gray>\u5de6\u952e: <white>\u8bbe\u7f6e\u70b9A"\n      - "<gray>\u53f3\u952e: <white>\u8bbe\u7f6e\u70b9B"\n      - "<gray>\u6f5c\u884c+\u5de6\u952e: <white>\u6d4b\u91cf\u8ddd\u79bb"\n      - "<gray>\u6f5c\u884c+\u53f3\u952e: <white>\u590d\u5236\u76ee\u6807\u65b9\u5757"\n    data:\n      posA: null\n      posB: null\n      block: null\n    action:\n      onInteract: |-\n        isSneaking = player.isSneaking()\n        isLeftClick = event.getAction() == Action.LEFT_CLICK_BLOCK\n        isRightClick = event.getAction() == Action.RIGHT_CLICK_BLOCK\n        \n        if (isLeftClick) {\n          if (isSneaking) {\n            // \u6d4b\u91cf\u8ddd\u79bb\n            posA = item.get("posA")\n            posB = item.get("posB")\n            \n            if (!posA || !posB) {\n              player.sendRichMessage("<red>\u8bf7\u5148\u8bbe\u7f6e\u70b9A\u548c\u70b9B")\n              return\n            }\n            \n            dist = Math.sqrt(\n              Math.pow(posA.x - posB.x, 2) +\n              Math.pow(posA.y - posB.y, 2) +\n              Math.pow(posA.z - posB.z, 2)\n            )\n            \n            player.sendRichMessage("<green>\u8ddd\u79bb: <yellow>" + dist.toFixed(2) + " \u65b9\u5757")\n          } else {\n            // \u8bbe\u7f6e\u70b9A\n            block = event.getClickedBlock()\n            loc = block.getLocation()\n            item.set("posA", {x: loc.getX(), y: loc.getY(), z: loc.getZ()})\n            player.sendRichMessage("<green>\u5df2\u8bbe\u7f6e\u70b9A: <yellow>" + loc.getX() + ", " + loc.getY() + ", " + loc.getZ())\n          }\n        } else if (isRightClick) {\n          if (isSneaking) {\n            // \u590d\u5236\u65b9\u5757\n            block = event.getClickedBlock()\n            item.set("block", block.getType().name())\n            player.sendRichMessage("<green>\u5df2\u590d\u5236\u65b9\u5757: <yellow>" + block.getType().name())\n          } else {\n            // \u8bbe\u7f6e\u70b9B\n            block = event.getClickedBlock()\n            loc = block.getLocation()\n            item.set("posB", {x: loc.getX(), y: loc.getY(), z: loc.getZ()})\n            player.sendRichMessage("<green>\u5df2\u8bbe\u7f6e\u70b9B: <yellow>" + loc.getX() + ", " + loc.getY() + ", " + loc.getZ())\n          }\n        }\n        \n        event.setCancelled(true)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u5176\u4ed6\u6848\u4f8b",children:"\u5176\u4ed6\u6848\u4f8b"}),"\n",(0,a.jsxs)(n.p,{children:["\u66f4\u591a\u6848\u4f8b\u8bf7\u53c2\u8003\u63d2\u4ef6\u6e90\u7801\u4e2d\u7684 ",(0,a.jsx)(n.code,{children:"demo"})," \u76ee\u5f55\uff0c\u6216\u8005\u67e5\u770b\u63d2\u4ef6\u5b98\u65b9\u7f51\u7ad9\u83b7\u53d6\u66f4\u591a\u793e\u533a\u5206\u4eab\u7684\u7269\u54c1\u914d\u7f6e\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var l=t(6540);const a={},i=l.createContext(a);function o(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);